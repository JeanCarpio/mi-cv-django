<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hoja de Vida - {{ perfil.nombres }}</title>
    <style>
        /* RESET */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Helvetica', 'Arial', sans-serif;
            background-color: #e9ecef; /* Fondo gris suave */
            color: #333;
            font-size: 14px;
            line-height: 1.3;
        }

        /* CONTENEDOR PRINCIPAL */
        .cv-wrapper {
            display: flex;
            width: 100%;
            max-width: 1200px; /* Ancho m√°ximo para que no se estire demasiado en pantallas gigantes */
            min-height: 100vh; /* OCUPA TODA LA PANTALLA (Ya no fuerza scroll si no es necesario) */
            margin: 0 auto;
            background-color: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }

        /* --- BARRA LATERAL (IZQUIERDA) --- */
        .sidebar {
            width: 300px; /* Ancho fijo para mayor control */
            background-color: #1f2a30;
            color: white;
            padding: 30px 20px;
            flex-shrink: 0;
            display: flex;
            flex-direction: column; /* Para empujar botones si hace falta */
        }

        .photo-container {
            text-align: center;
            margin-bottom: 25px;
        }

        .profile-photo {
            width: 140px;
            height: 140px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid rgba(255,255,255,0.2);
        }

        .sidebar-title {
            color: #e74c3c;
            border-bottom: 1px solid rgba(255,255,255,0.3);
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 13px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .sidebar-item {
            color: #ecf0f1;
            margin-bottom: 8px;
            font-size: 13px;
            word-wrap: break-word;
        }

        .sidebar-label {
            font-weight: bold;
            display: block;
            margin-bottom: 2px;
            font-size: 12px;
            color: #bdc3c7;
        }

        /* SECCI√ìN DE BOTONES */
        .sidebar-actions {
            margin-top: 40px;
            border-top: 1px solid rgba(255,255,255,0.1);
            padding-top: 20px;
        }

        .btn {
            display: block;
            width: 100%;
            padding: 10px;
            margin-bottom: 8px;
            text-align: center;
            text-decoration: none;
            border-radius: 5px;
            font-size: 12px;
            font-weight: bold;
            transition: 0.2s;
            border: none;
            cursor: pointer;
        }

        /* Colores de Botones */
        .btn-home { background-color: #34495e; color: white; } /* Bot√≥n Inicio */
        .btn-home:hover { background-color: #2c3e50; }

        .btn-pdf { background-color: #e74c3c; color: white; }
        .btn-pdf:hover { background-color: #c0392b; }

        .btn-cert { background-color: white; color: #1f2a30; }
        .btn-cert:hover { background-color: #ecf0f1; }

        .btn-garage { background-color: #e67e22; color: white; }
        .btn-garage:hover { background-color: #d35400; }


        /* --- CONTENIDO DERECHO --- */
        .main-content {
            flex-grow: 1; /* Ocupa el resto del espacio */
            padding: 40px 50px;
            background-color: white;
        }

        /* RESPONSIVE */
        @media (max-width: 800px) {
            .cv-wrapper { flex-direction: column; }
            .sidebar { width: 100%; padding: 20px; text-align: center; }
            .main-content { padding: 20px; }
        }

    </style>
</head>
<body>

<div class="cv-wrapper">
    
    <aside class="sidebar">
        <div class="photo-container">
            {% if perfil.fotoperfil %}
                <img src="{{ perfil.fotoperfil.url }}" alt="Perfil" class="profile-photo">
            {% endif %}
        </div>

        <div class="sidebar-title">Contacto</div>
        <div class="sidebar-item">üìû {{ perfil.telefonofijo }}</div>
        {% if perfil.email %}
            <div class="sidebar-item">‚úâÔ∏è {{ perfil.email }}</div>
        {% endif %}
        {% if perfil.sitioweb %}
            <div class="sidebar-item">
                üåê <a href="{{ perfil.sitioweb }}" style="color:white;text-decoration:none;" target="_blank">Ver Web</a>
            </div>
        {% endif %}
        <div class="sidebar-item">üÜî {{ perfil.numerocedula }}</div>
        <div class="sidebar-item">üìç {{ perfil.direcciondomiciliaria }}</div>

        <div class="sidebar-title">Datos Personales</div>
        <div class="sidebar-item">
            <span class="sidebar-label">Nacionalidad:</span> {{ perfil.nacionalidad }}
        </div>
        <div class="sidebar-item">
            <span class="sidebar-label">Estado Civil:</span> {{ perfil.estadocivil }}
        </div>

        {% if reconocimientos %}
        <div class="sidebar-title">Reconocimientos</div>
        {% for r in reconocimientos %}
            <div class="sidebar-item" style="margin-bottom:12px;">
                <b style="color:white; font-size:12px;">{{ r.tiporeconocimiento }}</b><br>
                <span style="color:#bdc3c7; font-size:11px;">{{ r.descripcionreconocimiento }}</span>
            </div>
        {% endfor %}
        {% endif %}

        <div class="sidebar-actions">
            <a href="{% url 'welcome' %}" class="btn btn-home">üè† Inicio</a>
            <a href="{% url 'cv_pdf' %}" class="btn btn-pdf">üìÑ Descargar PDF</a>
            <a href="{% url 'seleccionar_certificados' %}" class="btn btn-cert">üéì Certificados</a>
            <a href="{% url 'venta_garage' %}" class="btn btn-garage">üõí Venta de Garage</a>
        </div>
    </aside>

    <main class="main-content">
        {% block contenido %}
        {% endblock %}
    </main>

</div>

</body>
</html>