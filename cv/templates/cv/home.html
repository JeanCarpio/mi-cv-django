{% extends "cv/base_cv.html" %}

{% block contenido %}

<style>
    /* ESTILOS WEB (HOME) */

    /* ENCABEZADO */
    .header-name {
        font-family: 'Helvetica', 'Arial', sans-serif;
        font-size: 42px; 
        font-weight: bold;
        color: #1f2a30;
        text-transform: uppercase;
        line-height: 1;
        margin-bottom: 5px;
    }

    .header-desc {
        font-family: 'Helvetica', 'Arial', sans-serif;
        font-size: 18px;
        color: #7f8c8d;
        margin-bottom: 30px;
        font-weight: normal;
    }

    /* TÍTULOS DE SECCIÓN */
    .section-title {
        font-family: 'Helvetica', 'Arial', sans-serif;
        font-size: 15px;
        font-weight: bold;
        color: #1f2a30;
        border-bottom: 2px solid #e74c3c;
        padding-bottom: 2px;
        margin-top: 30px;
        margin-bottom: 20px;
        text-transform: uppercase;
    }

    /* --- ESTRUCTURA RECTA (VERTICAL) --- */
    .item-block {
        margin-bottom: 25px; /* Más espacio entre bloques */
        border-bottom: 1px solid #f0f0f0; /* Línea suave opcional */
        padding-bottom: 15px;
    }
    .item-block:last-child { border-bottom: none; }

    /* 1. Línea de FECHA (Arriba) */
    .line-date {
        color: #e74c3c; /* Rojo */
        font-weight: bold;
        font-size: 13px;
        margin-bottom: 5px; /* Separación con el título */
        display: block;
    }

    /* 2. Línea de TÍTULO (Debajo de la fecha) */
    .line-title {
        font-size: 16px;
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 3px;
        display: block;
    }

    /* 3. Línea de EMPRESA/INSTITUCIÓN (Debajo del título) */
    .line-company {
        font-size: 14px;
        font-weight: bold;
        color: #666;
        margin-bottom: 8px;
        display: block;
    }

    /* 4. Línea de DESCRIPCIÓN (Al final) */
    .line-desc {
        color: #444;
        font-size: 14px;
        line-height: 1.5;
        text-align: justify;
        display: block;
    }

    /* Mensajes vacíos */
    .empty-msg { color: #999; font-style: italic; font-size: 13px; }

</style>

<div class="header-name">{{ perfil.nombres }}<br>{{ perfil.apellidos }}</div>
<div class="header-desc">{{ perfil.descripcionperfil }}</div>

<div class="section-title">Experiencia Laboral</div>
{% for e in experiencias %}
    <div class="item-block">
        <div class="line-date">
            {{ e.fechainiciogestion|date:"Y" }} - {{ e.fechafingestion|date:"Y" }}
        </div>
        <div class="line-title">{{ e.cargodesempenado }}</div>
        <div class="line-company">{{ e.nombrempresa }}</div>
        <div class="line-desc">{{ e.descripcionfunciones }}</div>
    </div>
{% empty %}
    <p class="empty-msg">Sin experiencia registrada.</p>
{% endfor %}

<div class="section-title">Cursos Realizados</div>
{% for c in cursos %}
    <div class="item-block">
        <div class="line-title">{{ c.nombrecurso }}</div>
        
        <div class="line-company">
            
            {% if c.totalhoras %}
                <span style="font-weight: normal; color: #888; font-size: 13px;">
                    — {{ c.totalhoras }} Horas
                </span>
            {% endif %}
        </div>
        <div class="line-desc">{{ c.descripcioncurso }}</div>
    </div>
{% empty %}
    <p class="empty-msg">No hay cursos registrados.</p>
{% endfor %}

{% if productos_academicos %}
<div class="section-title">Productos Académicos</div>
{% for p in productos_academicos %}
    <div class="item-block">
        
        <div class="line-title">{{ p.nombrerecurso }}</div>
        
        {% if p.clasificador %}
            <div class="line-company">{{ p.clasificador }}</div>
        {% endif %}
        
        <div class="line-desc">{{ p.descripcion }}</div>
    </div>
{% endfor %}
{% endif %}

{% if productos_laborales %}
<div class="section-title">Productos Laborales</div>
{% for p in productos_laborales %}
    <div class="item-block">
        <div class="line-date" style="color:#999;">
            {{ p.fechaproducto|date:"M Y" }}
        </div>

        <div class="line-title">{{ p.nombreproducto }}</div>
        <div class="line-desc">{{ p.descripcion }}</div>
    </div>
{% endfor %}
{% endif %}

{% endblock %}